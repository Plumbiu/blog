<!DOCTYPE html>
<html>
  <body>
    <script>
      const query = window.location.search.slice(1) || ''
      const result = query.split('&').reduce((acc, cur) => {
        const [key, value] = cur.split('=')
        acc[key] = value
        return acc
      }, {})
      const access_token = result.access_token
      const user_login = result.user_login
      const user_avatar = result.user_avatar
      access_token && localStorage.setItem('access-token', access_token)
      user_login && localStorage.setItem('user-login', user_login)
      user_avatar && localStorage.setItem('user-avatar', user_avatar)
      const prevUrl = sessionStorage.getItem('prev-pathname')
      const prevScrollY = sessionStorage.getItem('prev-scrollY')
      location.href = prevUrl + `?prev-scrollY=${prevScrollY}`
    </script>
  </body>
</html>
